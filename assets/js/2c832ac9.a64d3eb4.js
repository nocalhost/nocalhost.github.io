"use strict";(self.webpackChunknh_docs=self.webpackChunknh_docs||[]).push([[6677],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return u}});var a=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(t),u=i,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return t?a.createElement(h,r(r({ref:n},c),{},{components:t})):a.createElement(h,r({ref:n},c))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var p=2;p<o;p++)r[p]=t[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},13919:function(e,n,t){function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!a(e)}t.d(n,{b:function(){return a},Z:function(){return i}})},44996:function(e,n,t){t.d(n,{C:function(){return o},Z:function(){return r}});var a=t(52263),i=t(13919);function o(){var e=(0,a.Z)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,o=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,a){var o=void 0===a?{}:a,r=o.forcePrependBaseUrl,l=void 0!==r&&r,s=o.absolute,p=void 0!==s&&s;if(!t)return t;if(t.startsWith("#"))return t;if((0,i.b)(t))return t;if(l)return n+t;var c=t.startsWith(n)?t:n+t.replace(/^\//,"");return p?e+c:c}(o,t,e,n)}}}function r(e,n){return void 0===n&&(n={}),(0,o().withBaseUrl)(e,n)}},58215:function(e,n,t){var a=t(67294);n.Z=function(e){var n=e.children,t=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:i},n)}},41395:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(67294),i=t(80944),o=t(86010),r="tabItem_1uMI",l="tabItemActive_2DSg";var s=37,p=39;var c=function(e){var n=e.lazy,t=e.block,c=e.defaultValue,m=e.values,d=e.groupId,u=e.className,h=(0,i.Z)(),f=h.tabGroupChoices,v=h.setTabGroupChoices,k=(0,a.useState)(c),g=k[0],y=k[1],N=a.Children.toArray(e.children),b=[];if(null!=d){var w=f[d];null!=w&&w!==g&&m.some((function(e){return e.value===w}))&&y(w)}var C=function(e){var n=e.currentTarget,t=b.indexOf(n),a=m[t].value;y(a),null!=d&&(v(d,a),setTimeout((function(){var e,t,a,i,o,r,s,p;(e=n.getBoundingClientRect(),t=e.top,a=e.left,i=e.bottom,o=e.right,r=window,s=r.innerHeight,p=r.innerWidth,t>=0&&o<=p&&i<=s&&a>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(l),setTimeout((function(){return n.classList.remove(l)}),2e3))}),150))},x=function(e){var n,t;switch(e.keyCode){case p:var a=b.indexOf(e.target)+1;t=b[a]||b[0];break;case s:var i=b.indexOf(e.target)-1;t=b[i]||b[b.length-1]}null==(n=t)||n.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},u)},m.map((function(e){var n=e.value,t=e.label;return a.createElement("li",{role:"tab",tabIndex:g===n?0:-1,"aria-selected":g===n,className:(0,o.Z)("tabs__item",r,{"tabs__item--active":g===n}),key:n,ref:function(e){return b.push(e)},onKeyDown:x,onFocus:C,onClick:C},t)}))),n?(0,a.cloneElement)(N.filter((function(e){return e.props.value===g}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},N.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==g})}))))}},79443:function(e,n,t){var a=(0,t(67294).createContext)(void 0);n.Z=a},80944:function(e,n,t){var a=t(67294),i=t(79443);n.Z=function(){var e=(0,a.useContext)(i.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},5993:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},metadata:function(){return s},toc:function(){return p},default:function(){return m}});var a=t(22122),i=t(19756),o=(t(67294),t(3905)),r=(t(41395),t(58215),t(44996),["components"]),l={title:"Spec"},s={unversionedId:"config/config-deployment-spec",id:"config/config-deployment-spec",isDocsHomePage:!1,title:"Spec",description:"Overview / Deploy Config / Spec",source:"@site/docs/config/config-deployment-spec.md",sourceDirName:"config",slug:"/config/config-deployment-spec",permalink:"/docs/config/config-deployment-spec",editUrl:"https://github.com/nocalhost/nocalhost.github.io/tree/main/docs/config/config-deployment-spec.md",version:"current",lastUpdatedBy:"Qi Zhang",lastUpdatedAt:1657695850,formattedLastUpdatedAt:"7/13/2022",frontMatter:{title:"Spec"},sidebar:"docs",previous:{title:"Quick Start",permalink:"/docs/config/config-deployment-quickstart"},next:{title:"Advance",permalink:"/docs/config/config-deployment-advance"}},p=[{value:"Startup dependency control (component dependency)",id:"startup-dependency-control-component-dependency",children:[]},{value:"Injecting Environment variable (Component dependency)",id:"injecting-environment-variable-component-dependency",children:[{value:"Injecting Global variable",id:"injecting-global-variable",children:[]},{value:"Injecting variables at the level of container",id:"injecting-variables-at-the-level-of-container",children:[]}]},{value:"Automatic port forwarding after installation",id:"automatic-port-forwarding-after-installation",children:[]},{value:"Hook",id:"hook",children:[]},{value:"The customization of the HelmValues",id:"the-customization-of-the-helmvalues",children:[]}],c={toc:p};function m(e){var n=e.components,t=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("span",{id:"danger"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/docs/config/config-en"},"Overview")," / ",(0,o.kt)("a",{parentName:"p",href:"/docs/config/config-deployment-en"},"Deploy Config")," / ",(0,o.kt)("a",{parentName:"p",href:"/docs/config/config-deployment-spec"},"Spec")),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Some configurations require additional components")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Some functions of the deployment configuration rely on the ",(0,o.kt)("strong",{parentName:"p"},"Nocalhost-Dep component"),". If you use Nocalhost Server, we will automatically install this component for you. Otherwise an additional installation is required."),(0,o.kt)("p",{parentName:"div"},"If the ",(0,o.kt)("strong",{parentName:"p"},"Nocalhost-Dep component")," is not installed, some functions will be restricted. This article will mark those functions that need ",(0,o.kt)("strong",{parentName:"p"},"Nocalhost-Dep"),"."))),(0,o.kt)("h2",{id:"startup-dependency-control-component-dependency"},"Startup dependency control (",(0,o.kt)("a",{parentName:"h2",href:"#danger"},"component dependency"),")"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: example\n  manifestType: rawManifestGit\n  resourcePath: [ "example" ]\n  \n  services:\n    - name: whatever\n      serviceType: deployment\n      \n      dependLabelSelector:\n        pods:\n          - "name=mariadb"\n          - "app.kubernetes.io/name=example"\n        jobs:\n          - "job-name=init-job"\n')),(0,o.kt)("p",null,"When a resource declares ",(0,o.kt)("inlineCode",{parentName:"p"},"dependLabelSelector")," in the deployment configuration, the characters in the ",(0,o.kt)("inlineCode",{parentName:"p"},"pods")," array represent the labels of the pods to be waited for. The format is key-value pairs. The characters in the ",(0,o.kt)("inlineCode",{parentName:"p"},"jobs")," array represent the labels of the jods to be waited for. The format is also key-value pairs."),(0,o.kt)("p",null,"Both ",(0,o.kt)("inlineCode",{parentName:"p"},"pods")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"jobs")," are optional. When you actually deploy your application, it will generate an ",(0,o.kt)("inlineCode",{parentName:"p"},"initContainer")," for the specified workload, wait for the status of all pods matching the label to be ",(0,o.kt)("inlineCode",{parentName:"p"},"Ready"),", and wait for the status of all jobs matching the label to be ",(0,o.kt)("inlineCode",{parentName:"p"},"Succeeded"),"."),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"injecting-environment-variable-component-dependency"},"Injecting Environment variable (",(0,o.kt)("a",{parentName:"h2",href:"#danger"},"Component dependency"),")"),(0,o.kt)("h3",{id:"injecting-global-variable"},"Injecting Global variable"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: example\n  manifestType: rawManifestGit\n  resourcePath: [ "example" ]\n  \n  ##### start\n  env:\n    - name: DEBUG\n      value: false\n    - name: DOMAIN\n      value: nocalhost.dev\n  envFrom:\n    envFile:\n      - path: relpath/to/env/file\n  ##### end\n')),(0,o.kt)("p",null,"Injecting global variables needs to be declared at the level of ",(0,o.kt)("inlineCode",{parentName:"p"},"application"),". During the deployment, it will inject the corresponding environment variables into all deployed ",(0,o.kt)("inlineCode",{parentName:"p"},"Deployment"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSet"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"ReplicaSet"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"StatefulSet"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Job"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"CronJob"),"."),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Injecting variables supports two kinds syntax, which can be mixed")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"The first one is to declare key-value pairs directly"),(0,o.kt)("li",{parentName:"ul"},"The second is to declare an env file relative to ",(0,o.kt)("inlineCode",{parentName:"li"},"config.yaml"),", the content is line-by-line ",(0,o.kt)("inlineCode",{parentName:"li"},"Key=Value"),":")),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-dotenv"},"DEBUG=true\nDOMAIN=nocalhost.dev\n")))),(0,o.kt)("p",null,"The priority of ",(0,o.kt)("inlineCode",{parentName:"p"},"env")," is higher than that of ",(0,o.kt)("inlineCode",{parentName:"p"},"envFrom")),(0,o.kt)("br",null),(0,o.kt)("h3",{id:"injecting-variables-at-the-level-of-container"},"Injecting variables at the level of container"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: example\n  manifestType: rawManifestGit\n  resourcePath: [ "example" ]\n\n  services:\n    - name: whatever\n      serviceType: deployment\n      containers:\n        - name: your-container-name\n          install:\n\n            ##### start\n            env:\n              - name: DEBUG\n                value: false\n              - name: DOMAIN\n                value: nocalhost.dev\n            envFrom:\n              envFile:\n                - path: relpath/to/env/file  \n            ##### end   \n')),(0,o.kt)("p",null,"The container-level variable injection is declared in ",(0,o.kt)("inlineCode",{parentName:"p"},"application.services[*].containers[*].install"),", indicating that the corresponding variables are injected into the corresponding container during deployment. The rules of ",(0,o.kt)("inlineCode",{parentName:"p"},"env")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"envFrom")," are in line with the application level's."),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"automatic-port-forwarding-after-installation"},"Automatic port forwarding after installation"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: example\n  manifestType: rawManifestGit\n  resourcePath: [ "example" ]\n\n  services:\n    - name: whatever\n      serviceType: deployment\n      containers:\n        - name: your-container-name\n          install:\n            \n            ##### start\n            portForward:\n              - 5005:5005\n              - 3306:3306\n            ##### end\n')),(0,o.kt)("p",null,"The configuration rules are similar to the container and variable injection declarations, and need to be configured in ",(0,o.kt)("inlineCode",{parentName:"p"},"application.services[*].containers[*].install"),"."),(0,o.kt)("p",null,"The port forwarding after installation is as it's name implies. After the application is installed, it can automatically forward port to the local for some services. For instance, database, MQ and other commonly used services' ports are suitable for automatic forwarding and configuration rules after installation. The port forwarding rules are consistent with K8s, namely ",(0,o.kt)("inlineCode",{parentName:"p"},"local port: container port"),"."),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"hook"},"Hook"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: example\n  manifestType: rawManifestGit\n  resourcePath: [ "example" ]\n\n  ##### start\n  onPreInstall:\n    - path: manifest/templates/pre-install/print-num-job-01.yaml\n      weight: "0"\n    - path: manifest/templates/hook/pre-install.yaml\n      weight: "1"\n  onPostInstall:\n    - path: manifest/templates/hook/post-install.yaml\n      weight: "1"\n  onPreUpgrade:\n    - path: manifest/templates/hook/pre-upgrade.yaml\n      weight: "1"\n  onPostUpgrade:\n    - path: manifest/templates/hook/post-upgrade.yaml\n      weight: "1"\n  onPreDelete:\n    - path: manifest/templates/hook/pre-delete.yaml\n      weight: "1"\n  onPostDelete:\n    - path: manifest/templates/hook/post-delete.yaml\n      weight: "1"\n  ##### end\n')),(0,o.kt)("p",null,"Nocalhost supports injecting various hooks in the life cycle of the application. ",(0,o.kt)("strong",{parentName:"p"},"Hooks currently only support Job"),", where ",(0,o.kt)("inlineCode",{parentName:"p"},"path")," is the RawManifest ",(0,o.kt)("strong",{parentName:"p"},"relative to the home directory"),", which must be the job type. ",(0,o.kt)("inlineCode",{parentName:"p"},"weight")," is the weight. The lower ones are executed first."),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"The limits on the Hook")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Hook is similar to Helm's Hook. Hook itself is to make up for the shortcomings of non-Helm applications, so ",(0,o.kt)("strong",{parentName:"p"}," Helm-type applications cannot configure Hook (You can use Helm's Hook directly)"),"."))),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"The explanation of Hook")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"onPreInstall")," occurs before the employment of the application, including performing some initialization operations such as clusters and databases. The deployment will start after the job status is ",(0,o.kt)("inlineCode",{parentName:"li"},"Successed"),". If it fails, the installation will be terminated."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"onPostInstall")," occurs after the application is deployed. When all resources are submitted to the K8s Api Server, this job will be executed. After the status is ",(0,o.kt)("inlineCode",{parentName:"li"},"Successed"),", the deployment is successful. Otherwise, it will roll back and perform the uninstall operation.")),(0,o.kt)("br",null),(0,o.kt)("p",{parentName:"div"},"By analogy, the Upgrade Hook and Delete Hook will not roll back after the execution fails, and only prompt failure."))),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"the-customization-of-the-helmvalues"},"The customization of the HelmValues"),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: example\n  manifestType: rawManifestGit\n  resourcePath: [ "example" ]\n\n  ##### start\n  helmValues:\n    - key: nocalhost.example\n      value: foo\n    - key: nocalhost.deploy.example\n      value: bar\n  \n  helmVals:\n    nocalhost:\n      example: foo\n      deploy:\n        example: {{ Release.Name }}\n  ##### end\n')),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"HelmValues supports two kinds of syntax")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},"The first syntax only supports pure strings and has a higher priority."),(0,o.kt)("li",{parentName:"ul"},"The second syntax is the same as ",(0,o.kt)("inlineCode",{parentName:"li"},"values.yaml")," and can be interspersed with Helm syntax.")))))}m.isMDXComponent=!0},86010:function(e,n,t){function a(e){var n,t,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(i&&(i+=" "),i+=t);else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function i(){for(var e,n,t=0,i="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(i&&(i+=" "),i+=n);return i}t.d(n,{Z:function(){return i}})}}]);